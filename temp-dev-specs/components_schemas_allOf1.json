{
  "openapi": "3.0.0",
  "info": {
    "title": "AllOf Example API",
    "version": "1.0.0",
    "description": "Une API simple d√©montrant l'utilisation de allOf"
  },
  "paths": {},
  "components": {
    "schemas": {
      "BaseEntity": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["id"]
      },
      "Address": {
        "type": "object",
        "properties": {
          "street": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "postalCode": {
            "type": "string"
          },
          "country": {
            "type": "string"
          }
        },
        "required": ["street", "city", "country"]
      },
      "Person": {
        "allOf": [
          {
            "$ref": "#/components/schemas/BaseEntity"
          },
          {
            "type": "object",
            "properties": {
              "firstName": {
                "type": "string"
              },
              "lastName": {
                "type": "string"
              },
              "email": {
                "type": "string",
                "format": "email"
              },
              "age": {
                "type": "integer",
                "minimum": 0
              }
            },
            "required": ["firstName", "lastName", "email"]
          }
        ]
      },
      "Employee": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Person"
          },
          {
            "$ref": "#/components/schemas/Address"
          },
          {
            "type": "object",
            "properties": {
              "position": {
                "type": "string"
              },
              "department": {
                "type": "string"
              },
              "salary": {
                "type": "number",
                "format": "float"
              }
            },
            "required": ["position", "department"]
          }
        ]
      }
    }
  }
}
