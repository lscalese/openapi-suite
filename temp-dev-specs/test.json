{
    "openapi": "3.0.3",
    "info": {
        "title": "User Configurations API",
        "description": "API to manage user configurations with dynamic properties",
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "/"
        }
    ],
    "paths": {
        "/configurations/{userId}": {
            "get": {
                "summary": "Get user configurations",
                "description": "Retrieve all configuration settings for a specific user",
                "operationId": "getUserConfigurations",
                "parameters": [
                    {
                        "name": "userId",
                        "in": "path",
                        "description": "ID of the user",
                        "required": true,
                        "style": "simple",
                        "explode": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "User configurations retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "required": [
                                        "createdAt",
                                        "id",
                                        "name",
                                        "settings",
                                        "userId",
                                        "address"
                                    ],
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "description": "Unique identifier for the configuration"
                                        },
                                        "userId": {
                                            "type": "string",
                                            "description": "ID of the user who owns the configuration"
                                        },
                                        "name": {
                                            "type": "string",
                                            "description": "Name of the configuration set"
                                        },
                                        "createdAt": {
                                            "type": "string",
                                            "description": "Creation timestamp",
                                            "format": "date-time"
                                        },
                                        "settings": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "required": [
                                                    "lastUpdated",
                                                    "status"
                                                ],
                                                "type": "object",
                                                "properties": {
                                                    "status": {
                                                        "type": "string",
                                                        "description": "Current status of the setting",
                                                        "enum": [
                                                            "active",
                                                            "disabled",
                                                            "pending"
                                                        ]
                                                    },
                                                    "lastUpdated": {
                                                        "type": "string",
                                                        "description": "Timestamp of the last update",
                                                        "format": "date-time"
                                                    }
                                                },
                                                "description": "Details about a specific setting"
                                            },
                                            "description": "Dynamic settings with any property names",
                                            "example": {
                                                "theme": {
                                                    "status": "active",
                                                    "lastUpdated": "2023-11-01T12:00:00Z"
                                                },
                                                "notifications": {
                                                    "status": "disabled",
                                                    "lastUpdated": "2023-10-25T08:30:00Z"
                                                }
                                            }
                                        },
                                        "address": {
                                            "type": "object",
                                            "description": "Address details of the user",
                                            "properties": {
                                                "street": {
                                                    "type": "string",
                                                    "description": "Street name and number"
                                                },
                                                "city": {
                                                    "type": "string",
                                                    "description": "City name"
                                                },
                                                "state": {
                                                    "type": "string",
                                                    "description": "State or region"
                                                },
                                                "postalCode": {
                                                    "type": "string",
                                                    "description": "Postal or ZIP code"
                                                },
                                                "country": {
                                                    "type": "string",
                                                    "description": "Country name"
                                                }
                                            },
                                            "required": [
                                                "street",
                                                "city",
                                                "postalCode",
                                                "country"
                                            ],
                                            "example": {
                                                "street": "123 Main St",
                                                "city": "Springfield",
                                                "state": "IL",
                                                "postalCode": "62704",
                                                "country": "USA"
                                            }
                                        }
                                    }
                                },
                                "example": {
                                    "id": "config-123",
                                    "userId": "user-456",
                                    "name": "App Settings",
                                    "createdAt": "2023-11-01T12:00:00Z",
                                    "settings": {
                                        "theme": {
                                            "status": "active",
                                            "lastUpdated": "2023-11-01T12:00:00Z"
                                        },
                                        "notifications": {
                                            "status": "disabled",
                                            "lastUpdated": "2023-10-25T08:30:00Z"
                                        }
                                    },
                                    "address": {
                                        "street": "123 Main St",
                                        "city": "Springfield",
                                        "state": "IL",
                                        "postalCode": "62704",
                                        "country": "USA"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "User not found"
                    }
                }
            }
        },
        "/configurations/objectParam": {
            "parameters": [
                {
                    "name": "user",
                    "in": "query",
                    "description": "a user",
                    "required": false,
                    "style": "form",
                    "explode": true,
                    "schema": {
                        "type": "object",
                        "properties": {
                            "id": {
                                "type": "string",
                                "description": "User ID"
                            },
                            "name": {
                                "type": "string",
                                "description": "User name"
                            }
                        }
                    }
                }
            ],
            "get": {
                "summary": "Create configuration with object parameter",
                "description": "Create a new configuration using an inline object parameter",
                "operationId": "createConfigurationWithObjectParam",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "user": {
                                        "type": "object",
                                        "description": "User details",
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "description": "User ID"
                                            },
                                            "name": {
                                                "type": "string",
                                                "description": "User name"
                                            }
                                        },
                                        "required": [
                                            "id",
                                            "name"
                                        ]
                                    },
                                    "configuration": {
                                        "type": "object",
                                        "description": "Configuration details",
                                        "properties": {
                                            "name": {
                                                "type": "string",
                                                "description": "Configuration name"
                                            },
                                            "settings": {
                                                "type": "object",
                                                "additionalProperties": {
                                                    "type": "string"
                                                },
                                                "description": "Dynamic settings"
                                            }
                                        },
                                        "required": [
                                            "name"
                                        ]
                                    }
                                },
                                "required": [
                                    "user",
                                    "configuration"
                                ]
                            },
                            "example": {
                                "user": {
                                    "id": "user-123",
                                    "name": "John Doe"
                                },
                                "configuration": {
                                    "name": "New Config",
                                    "settings": {
                                        "theme": "dark",
                                        "notifications": "enabled"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Configuration created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "id": {
                                            "type": "string",
                                            "description": "Unique identifier for the created configuration"
                                        },
                                        "status": {
                                            "type": "string",
                                            "description": "Creation status"
                                        }
                                    },
                                    "required": [
                                        "id",
                                        "status"
                                    ]
                                },
                                "example": {
                                    "id": "config-456",
                                    "status": "success"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        }
    }
}